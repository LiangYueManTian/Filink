<div class="user-detail">
  <div>
    <span class="pageTitle">
      {{ title }}
    </span>
  </div>
  <div>
      <xc-form class="currentAlarmAdd" [column]="formColumn" (formInstance)="formInstance($event)"></xc-form>
        <div style="padding-left: 20px;padding-top:40px; padding-bottom:10px;">
            <button class="link-button" nz-button nzType="primary"
              [nzLoading]="isLoading" style="margin-right: 20px"
              (click)="submit()" [disabled]="!formStatus.getValid()">{{language.okText}}
            </button>
            <button class="link-button" nz-button nzType="danger" (click)="cancel()">{{language.cancelText}}</button>
        </div>
  </div>
</div>

<!-- 告警级别 -->
<ng-template #alarmFixedLevelTemp let-formGroup="formGroup" let-data="data">
<div *ngIf="data.alarmFixedLevel === '1'" style="display: flex"><div class="box-icon" [ngStyle]="data.style"></div> <span style="margin-left: 5px">{{this.language.urgent}}</span></div>
<div *ngIf="data.alarmFixedLevel === '2'" style="display: flex"><div class="box-icon"  [ngStyle]="data.style"></div><span style="margin-left: 5px">{{this.language.main}}</span></div>
<div *ngIf="data.alarmFixedLevel === '3'" style="display: flex"><div class="box-icon"  [ngStyle]="data.style"></div><span style="margin-left: 5px">{{this.language.secondary}}</span></div>
<div *ngIf="data.alarmFixedLevel === '4'" style="display: flex"><div class="box-icon"  [ngStyle]="data.style"></div><span style="margin-left: 5px">{{this.language.prompt}}</span></div>
</ng-template>

<!--(nzOnOpenChange)="firstTimeChange($event)"-->
<!-- 首次发生时间 -->
<ng-template #firstTimeTemp let-formGroup="formGroup" let-data="data">
  <nz-range-picker [(ngModel)]="timeModel.firstTimeModel"
                   (ngModelChange)="firstTimeChange($event)"
                   (nzOnOpenChange)="firstTimeOnOpenChange($event)"
                   nzShowTime></nz-range-picker>
</ng-template>

<!-- 确认时间 -->
<ng-template #notarizeTimeTemp let-formGroup="formGroup" let-data="data">
<nz-range-picker [(ngModel)]="timeModel.notarizeTimeModel"
                 (ngModelChange)="notarizeTimeChange($event)"
                 (nzOnOpenChange)="notarizeTimeOnOpenChange($event)"
                 nzShowTime></nz-range-picker>
</ng-template>

<!-- 最近发生时间 -->
<ng-template #recentlyTimeTemp let-formGroup="formGroup" let-data="data">
<nz-range-picker [(ngModel)]="timeModel.recentlyTimeModel"
                 (ngModelChange)="recentlyTimeChange($event)"
                 (nzOnOpenChange)="recentlyTimeOnOpenChange($event)"
                  nzShowTime></nz-range-picker>
</ng-template>

<!-- 清除时间 -->
<ng-template #clearTimeTemp let-formGroup="formGroup" let-data="data">
<nz-range-picker [(ngModel)]="timeModel.clearTimeModel"
                 (ngModelChange)="clearTimeChange($event)"
                 (nzOnOpenChange)="clearTimeOnOpenChange($event)"
                 nzShowTime></nz-range-picker>
</ng-template>

<!-- 告警名称 -->
<ng-template #alarmName let-formGroup="formGroup" let-col="col">
<app-alarm-name [alarmNameConfig]='alarmNameConfig'></app-alarm-name>
</ng-template>

<!-- 告警对象选择 -->
<ng-template #department let-formGroup="formGroup" let-col="col">
<app-alarm-object [alarmObjectConfig]="alarmObjectConfig"></app-alarm-object>
</ng-template>

<!-- 区域 -->
<ng-template #areaSelector let-formGroup="formGroup" let-col="col">
  <app-area [areaConfig]='areaConfig'></app-area>
</ng-template>

<!-- 责任单位 -->
<ng-template #unitTemp let-formGroup="formGroup" let-col="col">
  <app-unit [unitConfig]='unitConfig'></app-unit>
</ng-template>
